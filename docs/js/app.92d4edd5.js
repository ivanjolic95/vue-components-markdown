(function(){"use strict";var e={107:function(e,n,o){var t=o(9963),a=o(6252),r=o(2262),i=o(6635),s=o.n(i),l=o(700),p=o.n(l),c=o(7003),d=o.n(c),u=o(2384),m=o.n(u),v=o(645),w=o.n(v),h=o(9411),b=o.n(h),f=o(4266),y=o.n(f),g=o(4574),_=o.n(g),M=o(81),k=o(6649),V=o.n(k),S=o(4651),P=o.n(S),A=o(3257),x=o.n(A);function j(e,n){const o=e.split(": ")[1].trim().replace(/'/g,""),t=o.match(/^{{\w*}}$/);return t?n[o.replace(/{|}/g,"")]:JSON.parse(o)}function C(e,n){let o=e.match(/[^!<>]*/g).filter(Boolean)[0];o=o.match(/^(\S+)\s(.*)/)?o.match(/^(\S+)\s(.*)/).slice(1):[o];const t=o[0],a=o[1]?o[1].slice(1,-1).split(", ").map((e=>e.trim())).reduce(((e,o)=>{const t=o.split(":")[0],a=j(o,n);return{...e,[t]:a}}),{}):{};return{componentName:t,componentProps:a}}function I(e,n,o,t,i,s){const{componentName:l,componentProps:p}=C(e,o),c=(0,a.h)((0,r.Xl)(n[l]),{...p});return t?c:(0,a.h)(i,{class:s},[c])}function O(e){const n=/((?<!#)!<.*>)/g,o=/(#!<.*>)/g;return e.split(n).map((e=>({isComponent:!!e.match(n),content:e.match(o)?e.replace(/#!</g,"!<"):e})))||[]}function T({content:e,componentMap:n,variables:o,noComponentWrapper:t,componentWrapperTag:i,componentWrapperClass:l,markdownProcessorProps:c}){const u=O(e),v=u.map((e=>e.isComponent?I(e.content,(0,r.Xl)(n),o,t,i,l,c):(0,a.h)((0,r.Xl)(x()),{...c,source:e.content,plugins:[s(),p(),d(),m(),w(),b(),y(),_(),M.Z,V(),P()].map((e=>({plugin:e})))})));return(0,a.h)("div",{class:"VueComponentsMarkdown"},v)}function D(e){return T(e)}var $={name:"VueComponentsMarkdown",functional:!0,props:{content:{type:String,default:""},componentMap:{type:Object,default:()=>({})},variables:{type:Object,default:()=>({})},noComponentWrapper:{type:Boolean,default:!1},componentWrapperTag:{type:String,default:"div"},componentWrapperClass:{type:String,default:""},markdownProcessorProps:{type:Object,default:()=>({})}},render(e){return D(e)}};const q={VueComponentsMarkdown:$},U=e=>{Object.keys(q).forEach((n=>{e.component(n,q[n])}))};var W=U;const N={class:"App"},E={class:"AppSide"},B={class:"AppMain"};function Z(e,n,o,t,r,i){const s=(0,a.up)("vue-components-markdown");return(0,a.wg)(),(0,a.iD)("div",N,[(0,a._)("div",E,[(0,a.Wm)(s,{content:r.tocContent},null,8,["content"])]),(0,a._)("div",B,[(0,a.Wm)(s,{content:r.content,"component-map":r.componentMap},null,8,["content","component-map"])])])}const R={class:"LivePreview row"},H={class:"col"},X={class:"col"};function J(e,n,o,t,r,i){const s=(0,a.up)("text-editor"),l=(0,a.up)("preview-renderer");return(0,a.wg)(),(0,a.iD)("div",R,[(0,a._)("div",H,[(0,a.Wm)(s,{content:r.content,"onUpdate:content":n[0]||(n[0]=e=>r.content=e),variables:r.variables,"onUpdate:variables":n[1]||(n[1]=e=>r.variables=e)},null,8,["content","variables"])]),(0,a._)("div",X,[(0,a.Wm)(l,{content:r.content,variables:r.variables,"component-map":r.componentMap},null,8,["content","variables","component-map"])])])}var L=o(3577);const Y=e=>((0,a.dD)("data-v-e6d3bb9c"),e=e(),(0,a.Cn)(),e),z={class:"MyPoll"},F={class:"MyPoll__Title"},K={class:"MyPoll__Answers"},Q=["value"],G=Y((()=>(0,a._)("div",{class:"MyPoll__Actions"},[(0,a._)("button",null,"See results"),(0,a._)("button",{type:"Submit"},"Vote!")],-1)));function ee(e,n,o,t,r,i){return(0,a.wg)(),(0,a.iD)("div",z,[(0,a._)("div",F,(0,L.zw)(i.question),1),(0,a._)("div",K,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.answers,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"MyPoll__Answer"},[(0,a._)("input",{type:"radio",name:"answer",value:e},null,8,Q),(0,a.Uk)(" "+(0,L.zw)(e),1)])))),128))]),G])}var ne={name:"MyPoll",props:{config:{type:Object,default:()=>({})}},computed:{question(){return this.config.question},answers(){return this.config.answers}}},oe=o(3744);const te=(0,oe.Z)(ne,[["render",ee],["__scopeId","data-v-e6d3bb9c"]]);var ae=te;const re=["src"];function ie(e,n,o,t,r,i){return(0,a.wg)(),(0,a.iD)("iframe",{width:"560",height:"315",src:`https://www.youtube.com/embed/${o.videoId}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,re)}var se={name:"YoutubeVideo",props:{videoId:{type:String,required:!0}}};const le=(0,oe.Z)(se,[["render",ie]]);var pe=le;const ce={class:"PreviewRenderer"};function de(e,n,o,t,r,i){const s=(0,a.up)("vue-components-markdown");return(0,a.wg)(),(0,a.iD)("div",ce,[(0,a.Wm)(s,{content:o.content,"component-map":o.componentMap,variables:o.variables,"no-component-wrapper":""},null,8,["content","component-map","variables"])])}var ue={name:"PreviewRenderer",props:{content:{type:String,required:!0},variables:{type:Object,default:()=>({})},componentMap:{type:Object,default:()=>({})}}};const me=(0,oe.Z)(ue,[["render",de]]);var ve=me;const we={class:"TextEditor"},he={class:"TextEditor__Actions"},be=["value"];function fe(e,n,o,t,r,i){const s=(0,a.up)("append-poll-modal"),l=(0,a.up)("append-video-modal");return(0,a.wg)(),(0,a.iD)("div",we,[(0,a._)("div",he,[(0,a._)("button",{onClick:n[0]||(n[0]=e=>r.showPollModal=!0)},"Append poll"),(0,a._)("button",{onClick:n[1]||(n[1]=e=>r.showVideoModal=!0)},"Append video")]),(0,a._)("textarea",{value:o.content,onInput:n[2]||(n[2]=n=>e.$emit("update:content",n.target.value))},null,40,be),(0,a.Wm)(s,{modelValue:r.showPollModal,"onUpdate:modelValue":n[3]||(n[3]=e=>r.showPollModal=e),onSubmit:i.addPoll},null,8,["modelValue","onSubmit"]),(0,a.Wm)(l,{modelValue:r.showVideoModal,"onUpdate:modelValue":n[4]||(n[4]=e=>r.showVideoModal=e),onSubmit:i.addVideo},null,8,["modelValue","onSubmit"])])}const ye=e=>((0,a.dD)("data-v-2baf6bd8"),e=e(),(0,a.Cn)(),e),ge={class:"AppendPollModal"},_e=ye((()=>(0,a._)("span",null,"Answers:",-1))),Me=["onUpdate:modelValue","placeholder"],ke=["onClick"];function Ve(e,n,o,r,i,s){const l=(0,a.up)("simple-modal");return(0,a.wg)(),(0,a.j4)(l,{"model-value":o.modelValue,title:"Add poll","onUpdate:modelValue":n[2]||(n[2]=n=>e.$emit("update:model-value",n)),onSubmit:s.handleSubmit},{default:(0,a.w5)((()=>[(0,a._)("div",ge,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>i.question=e),type:"text",placeholder:"Poll Question"},null,512),[[t.nr,i.question]]),_e,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.answers,((e,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:"AppendPollModal__Answer"},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e=>i.answers[n]=e,placeholder:`Answer #${n+1}`},null,8,Me),[[t.nr,i.answers[n]]]),(0,a._)("span",{class:"AppendPollModal__AnswerAction",onClick:e=>s.removeAnswer(n)}," Remove ",8,ke)])))),128)),(0,a._)("span",{class:"AppendPollModal__AnswerAction",onClick:n[1]||(n[1]=(...e)=>s.addAnswer&&s.addAnswer(...e))},"Add answer")])])),_:1},8,["model-value","onSubmit"])}const Se={key:0,class:"SimpleModalContainer"},Pe={class:"SimpleModal"},Ae={class:"SimpleModal__Title"},xe={class:"SimpleModal__Content"},je={class:"SimpleModal__Actions"};function Ce(e,n,o,t,r,i){return o.modelValue?((0,a.wg)(),(0,a.iD)("div",Se,[(0,a._)("div",Pe,[(0,a._)("div",Ae,(0,L.zw)(o.title),1),(0,a._)("div",xe,[(0,a.WI)(e.$slots,"default",{},void 0,!0)]),(0,a._)("div",je,[(0,a._)("button",{class:"outlined",onClick:n[0]||(n[0]=n=>e.$emit("update:model-value",!1))},"Close"),(0,a._)("button",{onClick:n[1]||(n[1]=n=>e.$emit("submit"))},(0,L.zw)(o.submitBtnText),1)])])])):(0,a.kq)("",!0)}var Ie={name:"SimpleModal",props:{modelValue:{type:Boolean,required:!0},title:{type:String,required:!0},submitBtnText:{type:String,default:"Submit"}}};const Oe=(0,oe.Z)(Ie,[["render",Ce],["__scopeId","data-v-8490ab88"]]);var Te=Oe,De={name:"AppendPollModal",emits:["update:model-value","submit"],components:{SimpleModal:Te},props:{modelValue:{type:Boolean,required:!0}},data(){return{question:"Is this a question?",answers:["This is an example answer","This is another answer"]}},methods:{removeAnswer(e){this.answers=[...this.answers.slice(0,e),...this.answers.slice(e+1)]},addAnswer(){this.answers=[...this.answers,""]},handleSubmit(){this.$emit("submit",{question:this.question,answers:this.answers.filter(Boolean)})}}};const $e=(0,oe.Z)(De,[["render",Ve],["__scopeId","data-v-2baf6bd8"]]);var qe=$e;const Ue={class:"AppendVideoModal"};function We(e,n,o,r,i,s){const l=(0,a.up)("simple-modal");return(0,a.wg)(),(0,a.j4)(l,{"model-value":o.modelValue,title:"Add video","onUpdate:modelValue":n[1]||(n[1]=n=>e.$emit("update:model-value",n)),onSubmit:s.handleSubmit},{default:(0,a.w5)((()=>[(0,a._)("div",Ue,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>i.youtubeVideoId=e),type:"text",placeholder:"YouTube video ID"},null,512),[[t.nr,i.youtubeVideoId]])])])),_:1},8,["model-value","onSubmit"])}var Ne={name:"AppendVideoModal",components:{SimpleModal:Te},props:{modelValue:{type:Boolean,required:!0}},data(){return{youtubeVideoId:""}},methods:{handleSubmit(){this.$emit("submit",{youtubeVideoId:this.youtubeVideoId})}}};const Ee=(0,oe.Z)(Ne,[["render",We],["__scopeId","data-v-3e24b184"]]);var Be=Ee,Ze={name:"TextEditor",components:{AppendPollModal:qe,AppendVideoModal:Be},props:{content:{type:String,required:!0}},data(){return{showPollModal:!1,showVideoModal:!1}},methods:{addPoll(e){if(!e)return;const n=JSON.stringify(e),o=`!<my-poll { config: '${n}' }>`;this.$emit("update:content",`${this.content}\n\n${o}`),this.showPollModal=!1},addVideo(e){if(!e||!e.youtubeVideoId)return;const n=JSON.stringify(e.youtubeVideoId),o=`!<youtube-video { videoId: '${n}' }>`;this.$emit("update:content",`${this.content}\n\n${o}`),this.showVideoModal=!1}}};const Re=(0,oe.Z)(Ze,[["render",fe],["__scopeId","data-v-13cfb170"]]);var He=Re,Xe={name:"LivePreview",components:{TextEditor:He,PreviewRenderer:ve},data(){return{content:"# Introduction\n\n## What is Vue.js?\nVue (pronounced /vjuː/, like __view__) is a __progressive framework__ for building user interfaces. Unlike other monolithic frameworks, Vue is designed from the ground up to be incrementally adoptable. The core library is focused on the view layer only, and is easy to pick up and integrate with other libraries or existing projects. On the other hand, Vue is also perfectly capable of powering sophisticated Single-Page Applications when used in combination with [modern tooling](https://v3.vuejs.org/guide/single-file-component.html) and [supporting libraries](https://github.com/vuejs/awesome-vue#components--libraries).\n\nIf you’d like to learn more about Vue before diving in, we [created a video](https://v3.vuejs.org/guide/introduction.html#) walking through the core principles and a sample project.\n",variables:{},componentMap:{"my-poll":(0,r.Xl)(ae),"youtube-video":(0,r.Xl)(pe)}}}};const Je=(0,oe.Z)(Xe,[["render",J],["__scopeId","data-v-2916844e"]]);var Le=Je;const Ye="\n#### Table of contents\n\n- [Example: Live preview](#example-livepreview)\n- [How to install](#how-to-install)\n- [Props](#props)\n  - [`content`](#content-prop)\n  - [`component-map`](#component-map-prop)\n  - [`variables`](#variables-prop)\n",ze="\n# `vue-components-markdown` component\n\n---\n\n## Example: LivePreview\n\nIn this example we build a markdown text editor that supports two custom components (`my-poll` and `youtube-video`) with preview on right. See code [here](https://github.com/ivanjolic95/vue-components-markdown/tree/main/src/docs/examples/LivePreview).\n\n!<live-preview>\n\n## How to install\n\n1. Add package to your `package.json`:\n\n```\nyarn add vue-components-markdown\n```\n\n2. (Optional) Use `VueComponentsMarkdown` Vue plugin\n\n```\n// main.js\nimport VueComponentsMarkdownPlugin from 'vue-components-markdown'\n\n// ...\n\nVue.use(VueComponentsMarkdownPlugin)\n```\n\n---\n\n## Props\n\n| Name                     | Type    | Required  | Default value | Description                                                  |\n| ------------------------ | ------- | --------- | ------------- | ------------------------------------------------------------ |\n| content                  | String  | `false` | `''`        | Markdown content to be rendered                              |\n| component-map            | Object  | `false` | `{}`        | Used for rendering custom components in markdown content     |\n| variables                | Object  | `false` | `{}`        | Used for injecting variables in markdown content             |\n| no-component-wrapper     | Boolean | `false` | `false`     | If `true` custom components won't be rendered in a wrapper |\n| component-wrapper-tag    | String  | `false` | `'div'`     | If wrapper is rendered, this tag will be used for it         |\n| component-wrapper-class  | String  | `false` | `''`        | If wrapper is rendered, this class will be added to it       |\n| markdown-processor-props | Object  | `false` | `{}`        | Props passed to default markdown processor `vue-markdown`  |\n\n### `content` prop\n\nAccepts any markdown string. It's parsed in runtime, so you can get the text from any source (API, `.md` file, variable etc.)\n\nUsing custom components:\n- you can inject any vue component in any place in the document\n- syntax:\n  - **\\!\\<component-name>** - renders a component without any props\n  - **\\!\\<component-name { propName: '\"value\"' }>** - renders a component and sets it's `prop-name` prop to 'value'\n  - **\\!\\<component-name { propName: '{\"a\": \"value\",\"b\":{\"c\": 123}}' }>** - renders a component and sets it's `prop-name` prop to JS object `{ a: 'value', b: { c: 123 } }`\n  - **\\!\\<component-name { propName: '{{variableName}}' }>** - renders a component and sets it's `prop-name` prop to the injected variable `variableName`\n\n- **IMPORTANT**: note that the **prop values need to be in JSON format** unless they are injected variables & **custom components need to be registered** in `component-map` prop.\n\n### `component-map` prop\n\nAccepts an object where the key is component name in markdown content, and the value is the component that should be rendered in that place.\n\nFor example:\n\n```\n<template>\n  \x3c!-- ... --\x3e\n  <vue-components-markdown :content=\"content\" :component-map=\"componentMap\" />\n  \x3c!-- ... --\x3e\n</template>\n\n<script>\nimport MyComponent from './components/MyComponent'\nimport Description from './components/Description'\n\n{\n  // ...\n  computed: {\n    content() {\n      return `\nHere go the custom components:\n\n#!<my-component>\n#!<description { text: '\"This is the description\"' }>\n`\n    },\n    componentMap() {\n      return {\n        'my-component': MyComponent,\n        'description': Description,\n      }\n    },\n  },\n  // ...\n}\n```\n\n### `variables` prop\n\nAccepts an object where the key is component name in markdown content, and the value is the component that should be rendered in that place.\n\nFor example:\n\n```\n<template>\n  \x3c!-- ... --\x3e\n  <vue-components-markdown :content=\"content\" :component-map=\"componentMap\" :variables=\"variables\" />\n  \x3c!-- ... --\x3e\n</template>\n\n<script>\nimport Description from './components/Description'\n\n{\n  // ...\n  computed: {\n    content() {\n      return `\nHere go the custom components:\n\n#!<description { text: '{{descriptionText}}' }>\n`\n    },\n    componentMap() {\n      return {\n        'description': Description,\n      }\n    },\n    variables: {\n      return {\n        descriptionText: 'This is a text in variable',\n      }\n    },\n  },\n  // ...\n}\n```\n";var Fe={name:"App",data(){return{tocContent:Ye.trim(),content:ze.trim(),componentMap:{"live-preview":(0,r.Xl)(Le)}}},created(){const e=document.getElementsByTagName("head")[0];let n=document.createElement("link");n.href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700&display=swap",n.rel="stylesheet",e.appendChild(n),n=document.createElement("link"),n.href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700&family=Roboto+Mono:wght@300;400&display=swap",n.rel="stylesheet",e.appendChild(n)}};const Ke=(0,oe.Z)(Fe,[["render",Z],["__scopeId","data-v-0040fce2"]]);var Qe=Ke;const Ge=(0,t.ri)(Qe);Ge.use(W),Ge.mount("#app")}},n={};function o(t){var a=n[t];if(void 0!==a)return a.exports;var r=n[t]={exports:{}};return e[t].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(n,t,a,r){if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],a=e[c][1],r=e[c][2];for(var s=!0,l=0;l<t.length;l++)(!1&r||i>=r)&&Object.keys(o.O).every((function(e){return o.O[e](t[l])}))?t.splice(l--,1):(s=!1,r<i&&(i=r));if(s){e.splice(c--,1);var p=a();void 0!==p&&(n=p)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[t,a,r]}}(),function(){o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,{a:n}),n}}(),function(){o.d=function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(n){return 0===e[n]};var n=function(n,t){var a,r,i=t[0],s=t[1],l=t[2],p=0;if(i.some((function(n){return 0!==e[n]}))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(l)var c=l(o)}for(n&&n(t);p<i.length;p++)r=i[p],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},t=self["webpackChunkvue_components_markdown"]=self["webpackChunkvue_components_markdown"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=o.O(void 0,[998],(function(){return o(107)}));t=o.O(t)})();
//# sourceMappingURL=app.92d4edd5.js.map